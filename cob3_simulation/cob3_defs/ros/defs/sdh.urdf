<?xml version="1.0"?>
<robot name="sdh"
	xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor"
	xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller"
	xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface">

	<!-- ################################################################################# -->
	<!-- add links-->
	
	<!-- palm -->
	<link name="link_palm">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/palm.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/palm.stl"/>
			</geometry>
		</collision>
	</link>
	
	<!-- finger1 -->
	<link name="link_finger1-1">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/knuckle.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/knuckle.stl"/>
			</geometry>
		</collision>
	</link>
	
	<link name="link_finger1-2">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger.stl"/>
			</geometry>
		</collision>
	</link>

	<link name="link_finger1-3">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger_tip.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger_tip.stl"/>
			</geometry>
		</collision>
	</link>

	<!-- finger2 -->
	<link name="link_finger2-1">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/knuckle.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="1.57079633 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/knuckle.stl"/>
			</geometry>
		</collision>
	</link>

	<link name="link_finger2-2">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger.stl"/>
			</geometry>
		</collision>
	</link>

	<link name="link_finger2-3">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger_tip.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger_tip.stl"/>
			</geometry>
		</collision>
	</link>

	<!-- thumb -->
	<link name="link_thumb1">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/knuckle.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://pr2_defs/meshes/knuckle.stl"/>
			</geometry>
		</collision>
	</link>

	<link name="link_thumb2">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.1"/>	
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://pr2_defs/meshes/finger.stl"/>
			</geometry>
		</collision>
	</link>
	
	<link name="link_thumb3">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger_tip.stl" />
			</geometry>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://cob3_defs/common/files/meshes/finger_tip.stl"/>
			</geometry>
		</collision>
	</link>
	
	<!-- define colors for links -->
	<gazebo reference="link_palm">
		<material>Gazebo/Grey</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>
	
	<gazebo reference="link_finger1-1">
		<material>Gazebo/Black</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>
	
	<gazebo reference="link_finger1-2">
		<material>Gazebo/Red</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>
	
	<gazebo reference="link_finger1-3">
		<material>Gazebo/Blue</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>

	<gazebo reference="link_finger2-1">
		<material>Gazebo/Black</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>

	<gazebo reference="link_finger2-2">
		<material>Gazebo/Red</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>

	<gazebo reference="link_finger2-3">
		<material>Gazebo/Blue</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>

	<gazebo reference="link_thumb1">
		<material>Gazebo/Black</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>
	
	<gazebo reference="link_thumb2">
		<material>Gazebo/Red</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>

	<gazebo reference="link_thumb3">
		<material>Gazebo/Blue</material>
		<turnGravityOff>false</turnGravityOff>
	</gazebo>

	<!-- ################################################################################# -->
	<!-- add joints -->

	<!-- palm -->
	<joint name="joint_armTCP_palm" type="fixed">
		<origin xyz="0 0 0.1125" rpy="0 0 0"/> <!-- TODO put in real offset -->
		<parent link="link_arm7"/>
		<child link="link_palm"/>
	</joint>

	<!-- finger1 -->
	<joint name="joint_palm_finger1-1" type="revolute">
		<origin xyz="0.01905 0.033 0.0745" rpy="0 0 3.159265" />
		<parent link="link_palm"/>
		<child link="link_finger1-1"/>
		<axis xyz="0 0 1" />
	    <calibration reference_position="0.0"/>
		<limit effort="100" velocity="1.0" upper="0.5" lower="-0.5" /> <!-- rads. effort is N-m applied force. vel is rad/s. -->
	</joint>
 
	<joint name="joint_finger1-1_finger1-2" type="revolute">
		<origin xyz="0 0 0.0165" rpy="0 0 0" />
		<parent link="link_finger1-1"/>
		<child link="link_finger1-2"/>
		<axis xyz="0 1 0" />
	    <calibration reference_position="0.0"/>
		<limit effort="100" velocity="1.0" upper="0.5" lower="-0.5" /> <!-- rads. effort is N-m applied force. vel is rad/s. -->
	</joint>
 
	<joint name="joint_finger1-2_finger1-3" type="revolute">
		<origin xyz="0 0 0.0865" rpy="0 0 0" />
		<parent link="link_finger1-2"/>
		<child link="link_finger1-3"/>
		<axis xyz="0 1 0" />
	    <calibration reference_position="0.0"/>
		<limit effort="100" velocity="1.0" upper="0.5" lower="-0.5" /> <!-- rads. effort is N-m applied force. vel is rad/s. -->
	</joint>
 
	<!-- finger2 -->
	<joint name="joint_palm_finger2-1" type="revolute">
		<origin xyz="0.01905 -0.033 0.0745" rpy="0 0 3.14159265" />
		<parent link="link_palm"/>
		<child link="link_finger2-1"/>
		<axis xyz="0 0 1" />
	    <calibration reference_position="0.0"/>
		<limit effort="100" velocity="1.0" upper="0.5" lower="-0.5" /> <!-- rads. effort is N-m applied force. vel is rad/s. -->
	</joint>
 
	<joint name="joint_finger2-1_finger2-2" type="revolute">
		<origin xyz="0 0 0.0165" rpy="0 0 0" />
		<parent link="link_finger2-1"/>
		<child link="link_finger2-2"/>
		<axis xyz="0 1 0" />
	    <calibration reference_position="0.0"/>
		<limit effort="100" velocity="1.0" upper="0.5" lower="-0.5" /> <!-- rads. effort is N-m applied force. vel is rad/s. -->
	</joint>
 
	<joint name="joint_finger2-2_finger2-3" type="revolute">
		<origin xyz="0 0 0.0865" rpy="0 0 0" />
		<parent link="link_finger2-2"/>
		<child link="link_finger2-3"/>
		<axis xyz="0 1 0" />
	    <calibration reference_position="0.0"/>
		<limit effort="100" velocity="1.0" upper="0.5" lower="-0.5" /> <!-- rads. effort is N-m applied force. vel is rad/s. -->
	</joint>
 
	<!-- thumb -->
	<joint name="joint_palm_thumb1" type="revolute">
		<origin xyz="-0.03811 0 0.0745 " rpy="0 0 0" />
		<parent link="link_palm"/>
		<child link="link_thumb1"/>
		<axis xyz="0 0 1" />
	    <calibration reference_position="0.0"/>
		<limit effort="100" lower="-1" upper="1" velocity="5"/> <!-- rads. effort is N-m applied force. vel is rad/s. -->
	</joint>
 
	<joint name="joint_thumb1_thumb2" type="revolute">
		<origin xyz="0 0 0.0165" rpy="0 0 0" />
		<parent link="link_thumb1"/>
		<child link="link_thumb2"/>
		<axis xyz="0 1 0" />
	    <calibration reference_position="0.0"/>
		<limit effort="100" lower="-1" upper="1" velocity="5"/> <!-- rads. effort is N-m applied force. vel is rad/s. -->
	</joint>
 
	<joint name="joint_thumb2_thumb3" type="revolute">
		<origin xyz="0 0 0.0865" rpy="0 0 0" />
		<parent link="link_thumb2"/>
		<child link="link_thumb3"/>
		<axis xyz="0 1 0" />
		<limit effort="100" lower="-1" upper="1" velocity="5"/> <!-- rads. effort is N-m applied force. vel is rad/s. -->
	</joint>

	<!-- ################################################################################# -->
	<!-- add transmissions -->
	
	<!-- finger1 -->
	<transmission name="trans_palm_finger1-1" type="SimpleTransmission">
		<actuator name="motor_palm_finger1-1"/>
		<joint name="joint_palm_finger1-1"/>
		<mechanicalReduction>1</mechanicalReduction>
	</transmission>
	
	<transmission name="trans_finger1-1_finger1-2" type="SimpleTransmission">
		<actuator name="motor_finger1-1_finger1-2"/>
		<joint name="joint_finger1-1_finger1-2"/>
		<mechanicalReduction>1</mechanicalReduction>
	</transmission>
	
	<transmission name="trans_finger1-2_finger1-3" type="SimpleTransmission">
		<actuator name="motor_finger1-2_finger1-3"/>
		<joint name="joint_finger1-2_finger1-3"/>
		<mechanicalReduction>1</mechanicalReduction>
	</transmission>
	
	<!-- finger2 -->
	<transmission name="trans_palm_finger2-1" type="SimpleTransmission">
		<actuator name="motor_palm_finger2-1"/>
		<joint name="joint_palm_finger2-1"/>
		<mechanicalReduction>1</mechanicalReduction>
	</transmission>
	
	<transmission name="trans_finger2-1_finger2-2" type="SimpleTransmission">
		<actuator name="motor_finger2-1_finger2-2"/>
		<joint name="joint_finger2-1_finger2-2"/>
		<mechanicalReduction>1</mechanicalReduction>
	</transmission>
	
	<transmission name="trans_finger2-2_finger2-3" type="SimpleTransmission">
		<actuator name="motor_finger2-2_finger2-3"/>
		<joint name="joint_finger2-2_finger2-3"/>
		<mechanicalReduction>1</mechanicalReduction>
	</transmission>
	
	<!-- thumb -->
	<transmission name="trans_palm_thumb1" type="SimpleTransmission">
		<actuator name="motor_palm_thumb1"/>
		<joint name="joint_palm_thumb1"/>
		<mechanicalReduction>1</mechanicalReduction>
	</transmission>
	
	<transmission name="trans_thumb1_thumb2" type="SimpleTransmission">
		<actuator name="motor_thumb1_thumb2"/>
		<joint name="joint_thumb1_thumb2"/>
		<mechanicalReduction>1</mechanicalReduction>
	</transmission>
	
	<transmission name="trans_thumb2_thumb3" type="SimpleTransmission">
		<actuator name="motor_thumb2_thumb3"/>
		<joint name="joint_thumb2_thumb3"/>
		<mechanicalReduction>1</mechanicalReduction>
	</transmission>

</robot>
